#!/bin/bash

echo "ğŸ”— Redis Connection Information for RedisInsight"
echo "=================================================="
echo ""
echo "1. Open RedisInsight: http://localhost:5540"
echo ""
echo "2. Click 'Add Redis Database' and use these settings:"
echo "   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "   â”‚ Host:     localhost                     â”‚"
echo "   â”‚ Port:     6379                          â”‚"
echo "   â”‚ Name:     mono-redis                    â”‚"
echo "   â”‚ Username: (leave empty)                 â”‚"
echo "   â”‚ Password: (leave empty)                 â”‚"
echo "   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "3. Test the connection and save"
echo ""
echo "ğŸ” Current Redis Status:"
if redis-cli -h localhost -p 6379 ping > /dev/null 2>&1; then
    echo "âœ… Redis is accessible at localhost:6379"
    echo "ğŸ“Š Redis Info:"
    echo "   Version: $(redis-cli -h localhost -p 6379 info server | grep redis_version | cut -d: -f2 | tr -d '\r')"
    echo "   Memory:  $(redis-cli -h localhost -p 6379 info memory | grep used_memory_human | cut -d: -f2 | tr -d '\r')"
    echo "   Keys:    $(redis-cli -h localhost -p 6379 dbsize) keys in database 0"
else
    echo "âŒ Redis is not accessible"
fi

echo ""
echo "ğŸ’¡ Alternative Connection (Docker Network):"
echo "   Host: redis (use this if connecting from another container)"
echo "   Port: 6379"
echo ""
echo "ğŸ—‚ï¸  Multiple Databases:"
echo "   Redis supports databases 0-15"
echo "   Default is database 0"
echo "   Switch with: SELECT 1 (for database 1)"